<!DOCTYPE HTML>
<!--    Basic Geolocation tool to drop geoPin where our node is based on HTML5 getLocation() 
        Future implementations will use the googleMaps API and present this as a Bootstrap modal




-->

<html>
   <head>
   
      <script type="text/javascript">
		
         function showLocation(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            alert("Latitude : " + latitude + " Longitude: " + longitude);
            document.getElementById('newMap').innerHTML += 'Lat: ' + latitude + 'Long: ' + longitude;    
         }

         function errorHandler(err) {
            if(err.code == 1) {
               alert("Error: Access is denied!");
            }
            
            else if( err.code == 2) {
               alert("Error: Position is unavailable!");
            }
         }
			
         function getLocation(){

            if(navigator.geolocation){
               // timeout at 60000 milliseconds (60 seconds)
               var options = {timeout:60000};
               navigator.geolocation.getCurrentPosition(showLocation, errorHandler, options);
               
                
            }
            
            else{
               alert("Sorry, browser does not support geolocation!");
            }
         }
			
      </script>
		
   </head>
   <body>
      
      <form>
         <input type="button" onclick="getLocation();" value="Get Location"/>
      </form>
      <div id="newMap">
      </div>
   </body>
</html>